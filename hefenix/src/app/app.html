<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced.  * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->



<main class="main">

  <div style="width:100%;max-width:700px;margin:0 auto 1.5rem auto;display:flex;gap:.5rem;align-items:center;">
    <br><br><br>
    <input
      type="text"
      placeholder="Type repository to search..."
      [value]="searchQuery()"
      (input)="searchQuery.set($any($event.target).value)"
      (keyup.enter)="onSearch()"
      style="flex:1;padding:.5rem .75rem;border:1px solid #ddd;border-radius:6px;"
    />
    <button class="pill" (click)="onSearch()">Search</button>
    <a href="" (click)="onViewBookmarks($event)" style="margin-left:auto;padding:.25rem .5rem;border:1px solid #ddd;border-radius:14px;background:#f7f7f7;cursor:pointer;font-size:12px;text-decoration:none;color:#333;">View Bookmarks</a>
  </div>
  <div style="width:100%;max-width:700px;margin:0 auto 1rem auto;">
    <p *ngIf="loading()">Searchingâ€¦</p>
    <p *ngIf="error()" style="color:#b00020;">{{ error() }}</p>
    <div *ngIf="results()?.items?.length" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;">
      <div *ngFor="let repo of results().items" style="border:1px solid #eee;border-radius:8px;padding:12px;display:flex;gap:10px;align-items:center;background:#fff;">
        <img [src]="repo.owner?.avatar_url" [alt]="repo.owner?.login" width="48" height="48" style="border-radius:50%;object-fit:cover;flex:0 0 auto;" />
        <div style="min-width:0;display:flex;flex-direction:column;gap:6px;flex:1 1 auto;">
          <div style="font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">{{ repo.name }}</div>
          <div style="display:flex;gap:8px;align-items:center;">
            
            <button type="button" (click)="toggleBookmark(repo)" style="margin-left:auto;padding:.25rem .5rem;border:1px solid #ddd;border-radius:14px;background:#f7f7f7;cursor:pointer;font-size:12px;">
              {{ isBookmarked(repo.id) ? 'Bookmarked' : 'Bookmark' }}
            </button>
          </div>
        </div>
      </div>
    </div>
    <p *ngIf="results() && !results()?.items?.length" style="color:#666;">No repositories found.</p>
  </div>    
  
</main>

<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content above * * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced.  * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * End of Placeholder  * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->


<router-outlet />
